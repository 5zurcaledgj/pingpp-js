{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/agreement.js","src/callbacks.js","src/channels/alipay.js","src/channels/alipay_lite.js","src/channels/alipay_pc_direct.js","src/channels/alipay_qr.js","src/channels/alipay_wap.js","src/channels/bfb_wap.js","src/channels/cb_alipay_pc_direct.js","src/channels/cb_alipay_wap.js","src/channels/cb_wx_pub.js","src/channels/ccb_qr.js","src/channels/cmb_pc_qr.js","src/channels/cmb_wallet.js","src/channels/commons/redirect_base.js","src/channels/coolcredit.js","src/channels/cp_b2b.js","src/channels/extras/ap.js","src/channels/isv_lite.js","src/channels/isv_wap.js","src/channels/jdpay_wap.js","src/channels/paypal.js","src/channels/qpay_pub.js","src/channels/upacp_pc.js","src/channels/upacp_wap.js","src/channels/wx_lite.js","src/channels/wx_pub_hzbank.js","src/channels/wx_wap.js","src/channels/yeepay_wap.js","src/collection.js","src/errors.js","src/init.js","src/libs/md5.js","src/main.js","src/mods.js","src/payment_elements.js","src/stash.js","src/testmode.js","src/utils.js","src/version.js"],"names":["f","exports","module","define","amd","window","global","self","this","pingpp","r","e","n","t","o","i","c","require","u","a","Error","code","p","call","length","1","hasOwn","hasOwnProperty","callbacks","utils","signAgreement","agreement","agreementObj","JSON","parse","err","innerAgreementCallback","error","object","credential","channel","urlToOpen","substring","url","URL","encodeURIComponent","search","setTimeout","redirectTo","userCallback","undefined","urlReturnCallback","urlReturnChannels","userAgreementCallback","innerCallback","result","clear","msg","extra","triggerUrlReturnCallback","shouldReturnUrlByCallback","indexOf","PINGPP_NOTIFY_URL_BASE","handleCharge","charge","callpay","orderInfo","alipayLiteEnabled","my","tradePay","orderStr","tradePayParams","complete","res","resultCode","memo","console","log","runTestMode","path","id","httpRequest","success","data","fail","trade_no","tradeNO","alipay_lite","ALIPAY_PC_DIRECT_URL","baseURL","channel_url","service","_input_charset","query","stringifyData","transaction_no","ready","callback","AlipayJSBridge","document","addEventListener","mods","ALIPAY_WAP_URL_OLD","ALIPAY_WAP_URL","targetURL","ap","getExtraModule","inWeixin","pay","stash","fields","k","jsApiParameters","wx_jssdk","jssdkEnabled","WeixinJSBridge","eventCallback","jsApiCall","attachEvent","invoke","err_msg","confirm","request","status","redirectBase","formSubmit","CMB_WALLET_URL","request_url","ChannelUrl","channelVersion","request_data","CP_B2B_URL","b","PADCHAR","ALPHA","makeDOMException","DOMException","INVALID_CHARACTER_ERR","d","number","name","description","toString","message","getbyte64","charAt","decode","h","g","j","push","String","fromCharCode","join","getbyte","charCodeAt","encode","arguments","SyntaxError","APURL","location","href","decodeURIComponent","wxLite","pay_channel","inAlipay","JDPAY_WAP_URL_OLD","JDPAY_H5_URL","JDPAY_PC_URL","channelUrl","SRC_URL","ID","tokenId","token_id","loadUrlJs","mqq","QQVersion","tenpay","retmsg","UPACP_PC_URL","UPACP_WAP_URL","wxLiteEnabled","wx","requestPayment","wx_lite","appId","errMsg","err_code","err_desc","wxPub","YEEPAY_WAP_URL","YEEPAY_WAP_TEST_URL","mode","md5","collection","seperator","limit","report_url","timeout","getParam","str","param","reg","RegExp","match","unescape","store","obj","inWxLite","inAlipayLite","localStorage","reportData","app_id","ch_id","type","user_agent","navigator","userAgent","host","time","Date","getTime","puid","reportStr","statsToSave","getItem","setItem","send","pppOneStats","split","origin","token","removeItem","X-Pingpp-Report-Token","report","_this","dc","init","documentReady","initPuid","randomString","getElementById","iframe","createElement","src","style","display","body","appendChild","safe_add","x","y","lsw","md5_cmn","q","s","num","cnt","md5_ff","md5_gg","md5_hh","md5_ii","binl_md5","len","olda","oldb","oldc","oldd","binl2rstr","input","output","rstr2binl","rstr2hex","hex_tab","str2rstr_utf8","raw_md5","raw_hmac_md5","key","hash","bkey","ipad","opad","concat","rstr_hmac_md5","string","raw","version","v","PingppSDK","prototype","testmode","PingppError","payment_elements","createPayment","chargeJSON","signature","debug","app","paid","actual_amount","channelModule","getChannelModule","livemode","setAPURL","setUrlReturnCallback","channels","Array","isArray","alipay","alipay_pc_direct","alipay_qr","alipay_wap","bfb_wap","cb_alipay_pc_direct","cb_alipay_wap","cb_wx_pub","ccb_qr","cmb_pc_qr","cmb_wallet","coolcredit","cp_b2b","isv_lite","isv_wap","jdpay_wap","paypal","qpay_pub","upacp_b2b","upacp_pc","upacp_wap","wx_pub","wx_pub_hzbank","wx_wap","yeepay_wap","extras","or_id","order_no","time_expire","charge_or_order","merchant_order_no","charge_essentials","charges","PINGPP_MOCK_URL","params","scheme","orderNo","timeExpire","stringify","urlencode","method","requestData","successCallback","errorCallback","headers","XMLHttpRequest","xhr","toUpperCase","open","setRequestHeader","onreadystatechange","readyState","responseText","onerror","form","setAttribute","hiddenField","submit","chars","maxPos","Math","floor","random","toLowerCase","miniProgram","fn","sid","jsurl","nodeHead","getElementsByTagName","nodeScript","async","onload"],"mappings":"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","file":"pingpp.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","var hasOwn = {}.hasOwnProperty;\nvar callbacks = require('./callbacks');\nvar utils = require('./utils');\n\nmodule.exports = {\n  signAgreement: function (agreement) {\n    var agreementObj;\n    if (typeof agreement === 'string') {\n      try {\n        agreementObj = JSON.parse(agreement);\n      } catch (err) {\n        callbacks.innerAgreementCallback('fail',\n          callbacks.error('json_decode_fail', err));\n        return false;\n      }\n    } else {\n      agreementObj = agreement;\n    }\n\n    if (typeof agreementObj === 'undefined') {\n      callbacks.innerAgreementCallback('fail',\n        callbacks.error('json_decode_fail'));\n      return false;\n    }\n\n    if (!hasOwn.call(agreementObj, 'object')\n      || agreementObj.object !== 'agreement'\n      || !hasOwn.call(agreementObj, 'channel')\n      || !hasOwn.call(agreementObj, 'credential')\n      || typeof agreementObj.credential !== 'object'\n    ) {\n      callbacks.innerAgreementCallback('fail',\n        callbacks.error('invalid_object'));\n      return false;\n    }\n\n    if (!hasOwn.call(agreementObj.credential, agreementObj.channel)) {\n      callbacks.innerAgreementCallback('fail',\n        callbacks.error('invalid_credential'));\n      return false;\n    }\n\n    var credential = agreementObj.credential[agreementObj.channel];\n    var urlToOpen;\n    if (typeof credential === 'string') {\n      urlToOpen = credential;\n    } else if (hasOwn.call(credential, 'credential')\n      && typeof credential.credential === 'string'\n    ) {\n      urlToOpen = credential.credential;\n    }\n\n    if (typeof urlToOpen === 'undefined') {\n      callbacks.innerAgreementCallback('fail',\n        callbacks.error('invalid_credential'));\n      return false;\n    }\n\n    if (agreementObj.channel.substring(0, 6) === 'alipay') {\n      var url = new URL(urlToOpen);\n      urlToOpen = 'http://d.alipay.com/i/index.htm?iframeSrc='\n        + encodeURIComponent('alipays://platformapi/startapp?appId=60000157'\n          +'&appClearTop=false&startMultApp=YES&sign_params='\n          + encodeURIComponent(url.search.substring(1))\n        );\n    }\n\n    setTimeout(function() {\n      utils.redirectTo(urlToOpen);\n    }, 0);\n\n    return true;\n  }\n};","module.exports = {\n\n  userCallback: undefined,\n\n  urlReturnCallback: undefined,\n\n  urlReturnChannels: [\n    'alipay_pc_direct', // 默认只开启 alipay_pc_direct 使用 callback 返回 URL\n  ],\n\n  userAgreementCallback: undefined,\n\n  innerCallback: function(result, err) {\n    if (typeof this.userCallback === 'function') {\n      if (typeof err === 'undefined') {\n        err = this.error();\n      }\n      this.userCallback(result, err);\n      this.userCallback = undefined;\n      var payment_elements = require('./payment_elements');\n      payment_elements.clear();\n    }\n  },\n\n  error: function(msg, extra) {\n    msg = (typeof msg === 'undefined') ? '' : msg;\n    extra = (typeof extra === 'undefined') ? '' : extra;\n    return {\n      msg: msg,\n      extra: extra\n    };\n  },\n\n  triggerUrlReturnCallback: function (err, url) {\n    if (typeof this.urlReturnCallback === 'function') {\n      this.urlReturnCallback(err, url);\n    }\n  },\n\n  shouldReturnUrlByCallback: function (channel) {\n    if (typeof this.urlReturnCallback !== 'function') {\n      return false;\n    }\n    return this.urlReturnChannels.indexOf(channel) !== -1;\n  },\n\n  innerAgreementCallback: function(result, err) {\n    if (typeof this.userAgreementCallback === 'function') {\n      if (typeof err === 'undefined') {\n        err = this.error();\n      }\n      this.userAgreementCallback(result, err);\n      this.userAgreementCallback = undefined;\n    }\n  }\n};\n","var callbacks = require('../callbacks');\nvar hasOwn = {}.hasOwnProperty;\n\n/*global my*/\nmodule.exports = {\n\n  PINGPP_NOTIFY_URL_BASE: 'https://notify.pingxx.com/notify',\n\n  handleCharge: function (charge) {\n    var credential = charge.credential[charge.channel];\n    if (credential || hasOwn.call(credential, 'orderInfo')) {\n      this.callpay(credential.orderInfo);\n    } else {\n      callbacks.innerCallback('fail',\n        callbacks.error('invalid_credential', 'missing_alipay'));\n    }\n  },\n\n  alipayLiteEnabled: function () {\n    return typeof my !== 'undefined' && my.tradePay;\n  },\n\n  // 支付宝小程序支付\n  callpay: function (orderStr) {\n    if (!this.alipayLiteEnabled()) {\n      console.log('请在支付宝小程序中打开');\n      return;\n    }\n    var tradePayParams = {};\n    tradePayParams.orderStr = orderStr;\n    tradePayParams.complete = function (res) {\n      var extra = {\n        resultCode: res.resultCode\n      };\n      if (hasOwn.call(res, 'memo')) {\n        extra.memo = res.memo;\n      }\n      if (hasOwn.call(res, 'result')) {\n        extra.result = res.result;\n      }\n      //支付成功\n      if (res.resultCode == '9000') {\n        callbacks.innerCallback('success', callbacks.error('', extra));\n      } else if (res.resultCode == '6001') { //取消支付\n        callbacks.innerCallback('cancel', callbacks.error('用户取消支付', extra));\n      } else {\n        callbacks.innerCallback('fail', callbacks.error('支付失败', extra));\n      }\n    };\n    my.tradePay(tradePayParams);\n  },\n\n  runTestMode: function (charge) {\n    var path = '/charges/' + charge.id;\n    my.httpRequest({\n      url: this.PINGPP_NOTIFY_URL_BASE + path + '?livemode=false',\n      success: function(res) {\n        if (res.data == 'success') {\n          callbacks.innerCallback('success');\n        } else {\n          callbacks.innerCallback('fail',\n            callbacks.error('testmode_notify_fail'));\n        }\n      },\n      fail:function() {\n        callbacks.innerCallback('fail', callbacks.error('network_err'));\n      }\n    });\n  }\n};\n","var callbacks = require('../callbacks');\n\n/*global my*/\nmodule.exports = {\n\n  PINGPP_NOTIFY_URL_BASE: 'https://notify.pingxx.com/notify',\n\n  handleCharge: function (charge) {\n    var trade_no = charge.credential[charge.channel];\n    if (trade_no) {\n      this.callpay(trade_no);\n    } else {\n      callbacks.innerCallback('fail',\n        callbacks.error('invalid_credential', 'missing_alipay_lite'));\n    }\n  },\n\n  alipayLiteEnabled: function () {\n    return typeof my !== 'undefined' && my.tradePay;\n  },\n\n  //支付宝小程序支付\n  callpay: function (tradeNO) {\n    if (!this.alipayLiteEnabled()) {\n      console.log('请在支付宝小程序中打开');\n      return;\n    }\n    var alipay_lite = {};\n    alipay_lite.tradeNO = tradeNO;\n    alipay_lite.complete = function (res) {\n      //支付成功\n      if (res.resultCode == 9000) {\n        callbacks.innerCallback('success');\n      } else if (res.resultCode == 6001) { //取消支付\n        callbacks.innerCallback('cancel', callbacks.error('用户取消支付'));\n      } else {\n        callbacks.innerCallback('fail', callbacks.error('支付失败'));\n      }\n    };\n    my.tradePay(alipay_lite);\n  },\n\n  runTestMode: function (charge) {\n    var path = '/charges/' + charge.id;\n    my.httpRequest({\n      url: this.PINGPP_NOTIFY_URL_BASE + path + '?livemode=false',\n      success: function(res) {\n        if (res.data == 'success') {\n          callbacks.innerCallback('success');\n        } else {\n          callbacks.innerCallback('fail',\n            callbacks.error('testmode_notify_fail'));\n        }\n      },\n      fail:function() {\n        callbacks.innerCallback('fail', callbacks.error('network_err'));\n      }\n    });\n  }\n};\n","var utils = require('../utils');\nvar hasOwn = {}.hasOwnProperty;\n\nmodule.exports = {\n\n  ALIPAY_PC_DIRECT_URL: 'https://mapi.alipay.com/gateway.do',\n\n  handleCharge: function(charge) {\n    var channel = charge.channel;\n    var credential = charge.credential[channel];\n    var baseURL = this.ALIPAY_PC_DIRECT_URL;\n    if (hasOwn.call(credential, 'channel_url')) {\n      baseURL = credential.channel_url;\n    }\n    if (!hasOwn.call(credential, '_input_charset')) {\n      if(hasOwn.call(credential, 'service')\n        && credential.service === 'create_direct_pay_by_user') {\n        credential._input_charset = 'utf-8';\n      }\n    }\n    var query = utils.stringifyData(credential, channel, true);\n    utils.redirectTo(baseURL + '?' + query, channel);\n  }\n};\n","var hasOwn = {}.hasOwnProperty;\nvar callbacks = require('../callbacks');\n\n/*global AlipayJSBridge*/\nmodule.exports = {\n\n  handleCharge: function (charge) {\n    var credential = charge.credential[charge.channel];\n    if (hasOwn.call(credential, 'transaction_no')) {\n      this.tradePay(credential.transaction_no);\n    } else {\n      callbacks.innerCallback('fail',\n        callbacks.error('invalid_credential', 'missing_field_transaction_no'));\n    }\n  },\n\n  ready: function (callback) {\n    if (window.AlipayJSBridge) {\n      callback && callback();\n    } else {\n      document.addEventListener('AlipayJSBridgeReady', callback, false);\n    }\n  },\n\n  tradePay: function (tradeNO) {\n    this.ready(function () {\n      // 通过传入交易号唤起快捷调用方式(注意tradeNO大小写严格)\n      AlipayJSBridge.call('tradePay', {\n        tradeNO: tradeNO\n      }, function (data) {\n        if ('9000' == data.resultCode) {\n          callbacks.innerCallback('success');\n        } else if('6001' == data.resultCode) {\n          callbacks.innerCallback('cancel', callbacks.error(data.result));\n        } else {\n          callbacks.innerCallback('fail',\n            callbacks.error(data.result));\n        }\n      });\n    });\n  }\n};\n","var utils = require('../utils');\nvar mods = require('../mods');\nvar hasOwn = {}.hasOwnProperty;\n\nmodule.exports = {\n\n  ALIPAY_WAP_URL_OLD: 'https://wappaygw.alipay.com/service/rest.htm',\n  ALIPAY_WAP_URL: 'https://mapi.alipay.com/gateway.do',\n\n  handleCharge: function(charge) {\n    var channel = charge.channel;\n    var credential = charge.credential[channel];\n    var baseURL = this.ALIPAY_WAP_URL;\n    if (hasOwn.call(credential, 'req_data')) {\n      baseURL = this.ALIPAY_WAP_URL_OLD;\n    } else if (hasOwn.call(credential, 'channel_url')) {\n      baseURL = credential.channel_url;\n    }\n    if (!hasOwn.call(credential, '_input_charset')) {\n      if ((hasOwn.call(credential, 'service')\n          && credential.service === 'alipay.wap.create.direct.pay.by.user')\n        || hasOwn.call(credential, 'req_data')\n      ) {\n        credential._input_charset = 'utf-8';\n      }\n    }\n    var query = utils.stringifyData(credential, channel, true);\n    var targetURL = baseURL + '?' + query;\n    var ap = mods.getExtraModule('ap');\n    if (utils.inWeixin() && typeof ap !== 'undefined') {\n      ap.pay(targetURL);\n    } else {\n      utils.redirectTo(targetURL, channel);\n    }\n  }\n};","var utils = require('../utils');\nvar callbacks = require('../callbacks');\nvar hasOwn = {}.hasOwnProperty;\n\nmodule.exports = {\n\n  handleCharge: function(charge) {\n    var channel = charge.channel;\n    var credential = charge.credential[channel];\n\n    if (!hasOwn.call(credential, 'url')) {\n      callbacks.innerCallback('fail',\n        callbacks.error('invalid_credential', 'missing_field:url'));\n      return;\n    }\n    utils.redirectTo(credential.url + '?' +\n      utils.stringifyData(credential, channel), channel);\n  }\n};\n","var utils = require('../utils');\nvar hasOwn = {}.hasOwnProperty;\n\nmodule.exports = {\n\n  ALIPAY_PC_DIRECT_URL: 'https://intlmapi.alipay.com/gateway.do',\n\n  handleCharge: function(charge) {\n    var channel = charge.channel;\n    var credential = charge.credential[channel];\n    var baseURL = this.ALIPAY_PC_DIRECT_URL;\n    if (hasOwn.call(credential, 'channel_url')) {\n      baseURL = credential.channel_url;\n    }\n\n    if (!hasOwn.call(credential, '_input_charset')) {\n      if(hasOwn.call(credential, 'service')\n        && credential.service === 'create_forex_trade') {\n        credential._input_charset = 'utf-8';\n      }\n    }\n    var query = utils.stringifyData(credential, channel, true);\n\n    utils.redirectTo(baseURL + '?' + query, channel);\n  }\n};\n","var utils = require('../utils');\nvar mods = require('../mods');\nvar hasOwn = {}.hasOwnProperty;\n\nmodule.exports = {\n\n  ALIPAY_WAP_URL: 'https://intlmapi.alipay.com/gateway.do',\n\n  handleCharge: function(charge) {\n    var channel = charge.channel;\n    var credential = charge.credential[channel];\n    var baseURL = this.ALIPAY_WAP_URL;\n    if (hasOwn.call(credential, 'channel_url')) {\n      baseURL = credential.channel_url;\n    }\n    if (!hasOwn.call(credential, '_input_charset')) {\n      if ((hasOwn.call(credential, 'service')\n          && credential.service === 'create_forex_trade_wap')\n      ) {\n        credential._input_charset = 'utf-8';\n      }\n    }\n\n    var query = utils.stringifyData(credential, channel, true);\n    var targetURL = baseURL + '?' + query;\n    var ap = mods.getExtraModule('ap');\n    if (utils.inWeixin() && typeof ap !== 'undefined') {\n      ap.pay(targetURL);\n    } else {\n      utils.redirectTo(targetURL, channel);\n    }\n  }\n};\n","var callbacks = require('../callbacks');\nvar utils = require('../utils');\nvar stash = require('../stash');\nvar mods = require('../mods');\nvar hasOwn = {}.hasOwnProperty;\n\n/*global WeixinJSBridge*/\nmodule.exports = {\n\n  PINGPP_NOTIFY_URL_BASE: 'https://notify.pingxx.com/notify',\n\n  handleCharge: function(charge) {\n    var credential = charge.credential[charge.channel];\n    var fields = [\n      'appId', 'timeStamp', 'nonceStr', 'package', 'signType', 'paySign'\n    ];\n    for (var k = 0; k < fields.length; k++) {\n      if (!hasOwn.call(credential, fields[k])) {\n        callbacks.innerCallback('fail',\n          callbacks.error('invalid_credential', 'missing_field_' + fields[k]));\n        return;\n      }\n    }\n    stash.jsApiParameters = credential;\n    this.callpay();\n  },\n\n  callpay: function() {\n    var self = this;\n    var wx_jssdk = mods.getExtraModule('wx_jssdk');\n    if (typeof wx_jssdk !== 'undefined' && wx_jssdk.jssdkEnabled()) {\n      wx_jssdk.callpay();\n    } else if (typeof WeixinJSBridge == 'undefined') {\n      var eventCallback = function() {\n        self.jsApiCall();\n      };\n      if (document.addEventListener) {\n        document.addEventListener('WeixinJSBridgeReady',\n          eventCallback, false);\n      } else if (document.attachEvent) {\n        document.attachEvent('WeixinJSBridgeReady', eventCallback);\n        document.attachEvent('onWeixinJSBridgeReady', eventCallback);\n      }\n    } else {\n      this.jsApiCall();\n    }\n  },\n\n  jsApiCall: function() {\n    if (hasOwn.call(stash, 'jsApiParameters')) {\n      WeixinJSBridge.invoke(\n        'getBrandWCPayRequest',\n        stash.jsApiParameters,\n        function(res) {\n          delete stash.jsApiParameters;\n          if (res.err_msg == 'get_brand_wcpay_request:ok') {\n            callbacks.innerCallback('success');\n          } else if (res.err_msg == 'get_brand_wcpay_request:cancel') {\n            callbacks.innerCallback('cancel');\n          } else {\n            callbacks.innerCallback('fail',\n              callbacks.error('wx_result_fail', res.err_msg));\n          }\n        }\n      );\n    }\n  },\n\n  runTestMode: function(charge) {\n    var dopay = confirm('模拟付款？');\n    if (dopay) {\n      var path = '/charges/' + charge.id;\n      utils.request(this.PINGPP_NOTIFY_URL_BASE + path + '?livemode=false',\n        'GET', null,\n        function(data, status) {\n          if (status >= 200 && status < 400 && data == 'success') {\n            callbacks.innerCallback('success');\n          } else {\n            var extra = 'http_code:' + status + ';response:' + data;\n            callbacks.innerCallback('fail',\n              callbacks.error('testmode_notify_fail', extra));\n          }\n        },\n        function() {\n          callbacks.innerCallback('fail', callbacks.error('network_err'));\n        });\n    }\n  }\n};\n","var redirectBase = require('./commons/redirect_base');\n\nmodule.exports = {\n\n  handleCharge: function(charge) {\n    redirectBase.handleCharge(charge);\n  }\n};\n","var utils = require('../utils');\nvar hasOwn = {}.hasOwnProperty;\n\nmodule.exports = {\n\n  handleCharge: function(charge) {\n    var channel = charge.channel;\n    var credential = charge.credential[channel];\n    var baseURL;\n    if (hasOwn.call(credential, 'channel_url')) {\n      baseURL = credential.channel_url;\n      delete credential.channel_url;\n    }\n\n    utils.formSubmit(baseURL, 'post', credential);\n  }\n};\n","var utils = require('../utils');\nvar hasOwn = {}.hasOwnProperty;\n\nmodule.exports = {\n\n  CMB_WALLET_URL:\n    'https://netpay.cmbchina.com/netpayment/BaseHttp.dll?MB_EUserPay',\n\n  handleCharge: function(charge) {\n    var credential = charge.credential[charge.channel];\n    var request_url = this.CMB_WALLET_URL;\n    if (hasOwn.call(credential, 'ChannelUrl')) {\n      request_url = credential.ChannelUrl;\n      delete credential.ChannelUrl;\n    }\n\n    if (hasOwn.call(credential, 'channelVersion')) {\n      delete credential.channelVersion;\n    }\n\n    utils.formSubmit(request_url, 'post', credential);\n  }\n};\n","var utils = require('../../utils');\nvar callbacks = require('../../callbacks');\nvar hasOwn = {}.hasOwnProperty;\n\nmodule.exports = {\n\n  handleCharge: function(charge) {\n    var credential = charge.credential[charge.channel];\n    var targetURL;\n    if (typeof credential === 'string') {\n      targetURL = credential;\n    } else if (hasOwn.call(credential, 'url')) {\n      targetURL = credential.url;\n    } else {\n      callbacks.innerCallback('fail', callbacks.error('invalid_credential',\n        'credential format is incorrect'));\n      return;\n    }\n    utils.redirectTo(targetURL, charge.channel);\n  }\n};\n","var utils = require('../utils');\n\nmodule.exports = {\n  handleCharge: function(charge) {\n    var credential = charge.credential[charge.channel];\n    utils.formSubmit(credential.request_url, 'post', credential.request_data);\n  }\n};\n","var utils = require('../utils');\n\nmodule.exports = {\n\n  CP_B2B_URL: 'https://payment.chinapay.com/CTITS/service/rest/page/nref/000000000017/0/0/0/0/0',\n\n  handleCharge: function(charge) {\n    var credential = charge.credential[charge.channel];\n    utils.formSubmit(this.CP_B2B_URL, 'post', credential);\n  }\n};\n","var stash = require('../../stash');\nvar hasOwn = {}.hasOwnProperty;\n\n(function() {\n  var b = {};\n  var a = {};\n  a.PADCHAR = '=';\n  a.ALPHA = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n  a.makeDOMException = function() {\n    try {\n      return new DOMException(DOMException.INVALID_CHARACTER_ERR);\n    } catch (d) {\n      var c = new Error('DOM Exception 5');\n      c.code = c.number = 5;\n      c.name = c.description = 'INVALID_CHARACTER_ERR';\n      c.toString = function() {\n        return 'Error: ' + c.name + ': ' + c.message;\n      };\n      return c;\n    }\n  };\n  a.getbyte64 = function(e, d) {\n    var c = a.ALPHA.indexOf(e.charAt(d));\n    if (c === -1) {\n      throw a.makeDOMException();\n    }\n    return c;\n  };\n  a.decode = function(f) {\n    f = '' + f;\n    var j = a.getbyte64;\n    var h, e, g;\n    var d = f.length;\n    if (d === 0) {\n      return f;\n    }\n    if (d % 4 !== 0) {\n      throw a.makeDOMException();\n    }\n    h = 0;\n    if (f.charAt(d - 1) === a.PADCHAR) {\n      h = 1;\n      if (f.charAt(d - 2) === a.PADCHAR) {\n        h = 2;\n      }\n      d -= 4;\n    }\n    var c = [];\n    for (e = 0; e < d; e += 4) {\n      g = (j(f, e) << 18) |\n        (j(f, e + 1) << 12) |\n        (j(f, e + 2) << 6) |\n        j(f, e + 3);\n      c.push(String.fromCharCode(g >> 16, (g >> 8) & 255, g & 255));\n    }\n    switch (h) {\n      case 1:\n        g = (j(f, e) << 18) | (j(f, e + 1) << 12) | (j(f, e + 2) << 6);\n        c.push(String.fromCharCode(g >> 16, (g >> 8) & 255));\n        break;\n      case 2:\n        g = (j(f, e) << 18) | (j(f, e + 1) << 12);\n        c.push(String.fromCharCode(g >> 16));\n        break;\n    }\n    return c.join('');\n  };\n  a.getbyte = function(e, d) {\n    var c = e.charCodeAt(d);\n    if (c > 255) {\n      throw a.makeDOMException();\n    }\n    return c;\n  };\n  a.encode = function(f) {\n    if (arguments.length !== 1) {\n      throw new SyntaxError('Not enough arguments');\n    }\n    var g = a.PADCHAR;\n    var h = a.ALPHA;\n    var k = a.getbyte;\n    var e, j;\n    var c = [];\n    f = '' + f;\n    var d = f.length - f.length % 3;\n    if (f.length === 0) {\n      return f;\n    }\n    for (e = 0; e < d; e += 3) {\n      j = (k(f, e) << 16) | (k(f, e + 1) << 8) | k(f, e + 2);\n      c.push(h.charAt(j >> 18));\n      c.push(h.charAt((j >> 12) & 63));\n      c.push(h.charAt((j >> 6) & 63));\n      c.push(h.charAt(j & 63));\n    }\n    switch (f.length - d) {\n      case 1:\n        j = k(f, e) << 16;\n        c.push(h.charAt(j >> 18) + h.charAt((j >> 12) & 63) + g + g);\n        break;\n      case 2:\n        j = (k(f, e) << 16) | (k(f, e + 1) << 8);\n        c.push(h.charAt(j >> 18) +\n          h.charAt((j >> 12) & 63) +\n          h.charAt((j >> 6) & 63) + g);\n        break;\n    }\n    return c.join('');\n  };\n  b.url = 'pay.htm';\n  b.pay = function(d) {\n    var c = encodeURIComponent(a.encode(d));\n    if (hasOwn.call(stash, 'APURL')) {\n      b.url = stash.APURL;\n    }\n    location.href = b.url + '?goto=' + c;\n  };\n  b.decode = function(c) {\n    return a.decode(decodeURIComponent(c));\n  };\n\n  module.exports = b;\n})();\n","var wxLite = require('./wx_lite');\n\nmodule.exports = wxLite;\n","var redirectBase = require('./commons/redirect_base');\nvar callbacks = require('../callbacks');\nvar utils = require('../utils');\nvar hasOwn = {}.hasOwnProperty;\n\nmodule.exports = {\n  handleCharge: function (charge) {\n    var extra = charge.extra;\n    if (hasOwn.call(extra, 'pay_channel')) {\n      var pay_channel = extra.pay_channel;\n      if (pay_channel === 'wx' && !utils.inWeixin()) {\n        callbacks.innerCallback('fail',\n          callbacks.error('Not in the WeChat browser'));\n        return;\n      } else if (pay_channel === 'alipay' && !utils.inAlipay()) {\n        callbacks.innerCallback('fail',\n          callbacks.error('Not in the Alipay browser'));\n        return;\n      }\n    } else {\n      callbacks.innerCallback('fail',\n        callbacks.error('invalid_charge', 'charge 格式不正确'));\n      return;\n    }\n    redirectBase.handleCharge(charge);\n  }\n};\n","var utils = require('../utils');\nvar hasOwn = {}.hasOwnProperty;\n\nmodule.exports = {\n\n  JDPAY_WAP_URL_OLD: 'https://m.jdpay.com/wepay/web/pay',\n  JDPAY_H5_URL: 'https://h5pay.jd.com/jdpay/saveOrder',\n  JDPAY_PC_URL: 'https://wepay.jd.com/jdpay/saveOrder',\n\n  handleCharge: function(charge) {\n    var credential = charge.credential[charge.channel];\n    var request_url = this.JDPAY_H5_URL;\n    if (hasOwn.call(credential, 'channelUrl')) {\n      request_url = credential.channelUrl;\n      delete credential.channelUrl;\n    } else if (hasOwn.call(credential, 'merchantRemark')) {\n      request_url = this.JDPAY_WAP_URL_OLD;\n    }\n    utils.formSubmit(request_url, 'post', credential);\n  }\n};\n","var utils = require('../utils');\n\nmodule.exports = {\n  handleCharge: function(charge) {\n    var credential = charge.credential[charge.channel];\n    utils.redirectTo(credential, charge.channel);\n  }\n};\n","var callbacks = require('../callbacks');\nvar utils = require('../utils');\nvar stash = require('../stash');\nvar hasOwn = {}.hasOwnProperty;\n\n/*global mqq*/\nmodule.exports = {\n  SRC_URL: 'https://open.mobile.qq.com/sdk/qqapi.js?_bid=152',\n  ID: 'mqq_api',\n\n  handleCharge: function (charge) {\n    var credential = charge.credential[charge.channel];\n\n    if (!hasOwn.call(credential, 'token_id')) {\n      callbacks.innerCallback('fail',\n        callbacks.error('invalid_credential', 'missing_token_id'));\n      return;\n    }\n    stash.tokenId = credential.token_id;\n    utils.loadUrlJs(this.ID, this.SRC_URL, this.callpay);\n  },\n\n  callpay: function () {\n    if (typeof mqq != 'undefined') {\n      if (mqq.QQVersion == 0) {\n        callbacks.innerCallback('fail',\n          callbacks.error('Not in the QQ client'));\n        delete stash.tokenId;\n        return;\n      }\n      mqq.tenpay.pay({\n        tokenId: stash.tokenId\n      }, function (result) {\n        if (result.resultCode == 0) {\n          callbacks.innerCallback('success');\n        } else {\n          callbacks.innerCallback('fail',\n            callbacks.error(result.retmsg));\n        }\n      });\n    } else {\n      callbacks.innerCallback('fail',\n        callbacks.error('network_err'));\n    }\n    delete stash.tokenId;\n  }\n};","var utils = require('../utils');\n\nmodule.exports = {\n\n  UPACP_PC_URL: 'https://gateway.95516.com/gateway/api/frontTransReq.do',\n\n  handleCharge: function(charge) {\n    var credential = charge.credential[charge.channel];\n    utils.formSubmit(this.UPACP_PC_URL, 'post', credential);\n  }\n};\n","var utils = require('../utils');\n\nmodule.exports = {\n\n  UPACP_WAP_URL: 'https://gateway.95516.com/gateway/api/frontTransReq.do',\n\n  handleCharge: function(charge) {\n    var credential = charge.credential[charge.channel];\n    utils.formSubmit(this.UPACP_WAP_URL, 'post', credential);\n  }\n};\n","/**\n * Created by yulitao on 2016/12/29.\n */\nvar stash = require('../stash');\nvar callbacks = require('../callbacks');\nvar hasOwn = {}.hasOwnProperty;\n/*global wx*/\nmodule.exports = {\n\n  PINGPP_NOTIFY_URL_BASE: 'https://notify.pingxx.com/notify',\n\n  handleCharge: function (charge) {\n    var credential = charge.credential[charge.channel];\n    var fields = [\n      'appId', 'timeStamp', 'nonceStr', 'package', 'signType', 'paySign'\n    ];\n    for (var k = 0; k < fields.length; k++) {\n      if (!hasOwn.call(credential, fields[k])) {\n        callbacks.innerCallback('fail',\n          callbacks.error('invalid_credential', 'missing_field_' + fields[k]));\n        return;\n      }\n    }\n    stash.jsApiParameters = credential;\n    this.callpay();\n  },\n\n  wxLiteEnabled: function () {\n    return typeof wx !== 'undefined' && wx.requestPayment;\n  },\n\n  //微信小程序支付\n  callpay: function () {\n    if (!this.wxLiteEnabled()) {\n      console.log('请在微信小程序中打开');\n      return;\n    }\n    var wx_lite = stash.jsApiParameters;\n    delete wx_lite.appId;\n    wx_lite.complete = function (res) {\n      //支付成功\n      if (res.errMsg === 'requestPayment:ok') {\n        callbacks.innerCallback('success');\n      }\n      //取消支付\n      if (res.errMsg === 'requestPayment:cancel'\n        || res.errMsg === 'requestPayment:fail cancel') {\n        callbacks.innerCallback('cancel', callbacks.error('用户取消支付'));\n      }\n      //支付验证签名失败\n      if (res.err_code !== 'undefined' && res.err_desc !== 'undefined') {\n        callbacks.innerCallback('fail', callbacks.error(res.err_desc, res));\n      }\n    };\n    wx.requestPayment(wx_lite);\n  },\n\n  runTestMode: function (charge) {\n    var path = '/charges/' + charge.id;\n    wx.request({\n      url: this.PINGPP_NOTIFY_URL_BASE + path + '?livemode=false',\n      success: function(res) {\n        if (res.data == 'success') {\n          callbacks.innerCallback('success');\n        } else {\n          callbacks.innerCallback('fail',\n            callbacks.error('testmode_notify_fail'));\n        }\n      },\n      fail:function() {\n        callbacks.innerCallback('fail', callbacks.error('network_err'));\n      }\n    });\n  }\n};\n","var wxPub = require('./wx_pub');\n\n/*global WeixinJSBridge*/\nwxPub.callpay = function () {\n  var self = this;\n  if (typeof WeixinJSBridge == 'undefined') {\n    var eventCallback = function() {\n      self.jsApiCall();\n    };\n    if (document.addEventListener) {\n      document.addEventListener('WeixinJSBridgeReady',\n        eventCallback, false);\n    } else if (document.attachEvent) {\n      document.attachEvent('WeixinJSBridgeReady', eventCallback);\n      document.attachEvent('onWeixinJSBridgeReady', eventCallback);\n    }\n  } else {\n    this.jsApiCall();\n  }\n};\n\nmodule.exports = wxPub;\n","var utils = require('../utils');\nvar callbacks = require('../callbacks');\nvar hasOwn = {}.hasOwnProperty;\n\nmodule.exports = {\n\n  handleCharge: function(charge) {\n    var credential = charge.credential[charge.channel];\n    if (typeof credential === 'string') {\n      utils.redirectTo(credential, charge.channel);\n    } else if (typeof credential === 'object'\n      && hasOwn.call(credential, 'url')\n    ) {\n      utils.redirectTo(credential.url, charge.channel);\n    } else {\n      callbacks.innerCallback('fail',\n        callbacks.error('invalid_credential', 'credential 格式不正确'));\n    }\n  }\n};\n","var utils = require('../utils');\nvar callbacks = require('../callbacks');\nvar hasOwn = {}.hasOwnProperty;\n\nmodule.exports = {\n\n  YEEPAY_WAP_URL: 'https://ok.yeepay.com/paymobile/api/pay/request',\n  YEEPAY_WAP_TEST_URL: 'http://mobiletest.yeepay.com/paymobile/api/pay/request',\n\n  handleCharge: function(charge) {\n    var channel = charge.channel;\n    var credential = charge.credential[channel];\n    var fields = ['merchantaccount', 'encryptkey', 'data'];\n    for (var k = 0; k < fields.length; k++) {\n      if (!hasOwn.call(credential, fields[k])) {\n        callbacks.innerCallback('fail',\n          callbacks.error('invalid_credential', 'missing_field_' + fields[k]));\n        return;\n      }\n    }\n    var baseURL;\n    if (hasOwn.call(credential, 'mode') && credential.mode == 'test') {\n      baseURL = this.YEEPAY_WAP_TEST_URL;\n    } else {\n      baseURL = this.YEEPAY_WAP_URL;\n    }\n    utils.redirectTo(baseURL + '?' +\n      utils.stringifyData(credential, channel, true), charge.channel);\n  }\n};\n","var utils = require('./utils');\nvar stash = require('./stash');\nvar md5 = require('./libs/md5');\n\nvar collection = {\n  seperator: '###',\n  limit: 1,\n  report_url: 'https://statistics.pingxx.com/one_stats',\n  timeout: 100\n};\nvar getParam = function(str, param) {\n  var reg = new RegExp('(^|&)' + param + '=([^&]*)(&|$)', 'i');\n  var r = str.substring(0).match(reg);\n  if (r !== null) return unescape(r[2]);\n  return null;\n};\nvar getUserAgent = function() {\n  if (typeof navigator === 'undefined') {\n    return '';\n  }\n  return navigator.userAgent;\n};\nvar getHost = function() {\n  if (typeof window === 'undefined') {\n    return '';\n  }\n  return window.location.host;\n};\n\ncollection.store = function(obj) {\n  if (utils.inWxLite() || utils.inAlipayLite()) {\n    return;\n  }\n  if (typeof localStorage === 'undefined' || localStorage === null) return;\n  var _this = this;\n  var reportData = {};\n  reportData.app_id = obj.app_id || stash.app_id || 'app_not_defined';\n  reportData.ch_id = obj.ch_id || '';\n  reportData.channel = obj.channel || '';\n  reportData.type = obj.type || '';\n  reportData.user_agent = getUserAgent();\n  reportData.host = getHost();\n  reportData.time = new Date().getTime();\n  reportData.puid = stash.puid;\n\n  var reportStr = 'app_id=' + reportData.app_id +\n    '&channel=' + reportData.channel + '&ch_id=' + reportData.ch_id +\n    '&host=' + reportData.host + '&time=' + reportData.time +\n    '&type=' + reportData.type + '&user_agent=' + reportData.user_agent +\n    '&puid=' + reportData.puid;\n\n  var statsToSave = reportStr;\n  if (localStorage.getItem('PPP_ONE_STATS') !== null &&\n    localStorage.getItem('PPP_ONE_STATS').length !== 0\n  ) {\n    statsToSave = localStorage.getItem('PPP_ONE_STATS') +\n      _this.seperator + reportStr;\n  }\n  try {\n    localStorage.setItem('PPP_ONE_STATS', statsToSave);\n  } catch (e) {\n    /* empty */\n  }\n};\n\ncollection.send = function() {\n  if (typeof localStorage === 'undefined' || localStorage === null) return;\n  var _this = this;\n  var pppOneStats = localStorage.getItem('PPP_ONE_STATS');\n  if (pppOneStats === null ||\n    pppOneStats.split(_this.seperator).length < _this.limit) {\n    return;\n  }\n  try {\n    var data = [];\n    var origin = pppOneStats.split(_this.seperator);\n    var token = md5(origin.join('&'));\n\n    for (var i = 0; i < origin.length; i++) {\n      data.push({\n        app_id: getParam(origin[i], 'app_id'),\n        channel: getParam(origin[i], 'channel'),\n        ch_id: getParam(origin[i], 'ch_id'),\n        host: getParam(origin[i], 'host'),\n        time: getParam(origin[i], 'time'),\n        type: getParam(origin[i], 'type'),\n        user_agent: getParam(origin[i], 'user_agent'),\n        puid: getParam(origin[i], 'puid')\n      });\n    }\n\n    utils.request(_this.report_url, 'POST', data, function(data, status) {\n      if (status == 200) {\n        localStorage.removeItem('PPP_ONE_STATS');\n      }\n    }, undefined, {\n      'X-Pingpp-Report-Token': token\n    });\n  } catch (e) {\n    /* empty */\n  }\n};\n\ncollection.report = function(obj) {\n  if (utils.inWxLite() || utils.inAlipayLite()) {\n    return;\n  }\n  var _this = this;\n  _this.store(obj);\n  setTimeout(function(){\n    _this.send();\n  }, _this.timeout);\n};\n\nmodule.exports = collection;\n","var error = function PingppError(message, extra) {\n  this.message = message;\n  this.extra = extra;\n};\n\nmodule.exports = {\n  Error: error,\n};\n","var stash = require('./stash');\nvar utils = require('./utils');\nvar dc = require('./collection');\n\nmodule.exports = {\n  SRC_URL: 'https://cookie.pingxx.com',\n\n  init: function() {\n    var self = this;\n    utils.documentReady(function(){\n      try {\n        (!(utils.inWxLite() || utils.inAlipayLite())) && self.initPuid();\n      } catch (e){/* empty */}\n    });\n  },\n\n  initPuid: function() {\n    if (typeof window === 'undefined' || typeof localStorage === 'undefined'\n        || localStorage === null) {\n      return;\n    }\n    var puid = localStorage.getItem('pingpp_uid');\n    if (puid === null) {\n      puid = utils.randomString();\n      try {\n        localStorage.setItem('pingpp_uid', puid);\n      } catch (e) {\n        /* empty */\n      }\n    }\n    stash.puid = puid;\n    if (!document.getElementById('p_analyse_iframe')) {\n      var iframe;\n      try {\n        iframe = document.createElement('iframe');\n      }catch(e){\n        iframe = document.createElement('<iframe name=\"ifr\"></iframe>');\n      }\n      iframe.id = 'p_analyse_iframe';\n      iframe.src = this.SRC_URL + '/?puid=' + puid;\n      iframe.style.display = 'none';\n      document.body.appendChild(iframe);\n    }\n    setTimeout(function() {\n      dc.send();\n    }, 0);\n  }\n};\n","/*\n * JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * http://www.opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\n\n/* global unescape, module */\n\n(function () {\n  /*\n  * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n  * to work around bugs in some JS interpreters.\n  */\n  function safe_add (x, y) {\n    var lsw = (x & 0xFFFF) + (y & 0xFFFF);\n    var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n    return (msw << 16) | (lsw & 0xFFFF);\n  }\n\n  /*\n  * Bitwise rotate a 32-bit number to the left.\n  */\n  function bit_rol (num, cnt) {\n    return (num << cnt) | (num >>> (32 - cnt));\n  }\n\n  /*\n  * These functions implement the four basic operations the algorithm uses.\n  */\n  function md5_cmn (q, a, b, x, s, t) {\n    return safe_add(bit_rol(safe_add(safe_add(a, q), safe_add(x, t)), s), b);\n  }\n  function md5_ff (a, b, c, d, x, s, t) {\n    return md5_cmn((b & c) | ((~b) & d), a, b, x, s, t);\n  }\n  function md5_gg (a, b, c, d, x, s, t) {\n    return md5_cmn((b & d) | (c & (~d)), a, b, x, s, t);\n  }\n  function md5_hh (a, b, c, d, x, s, t) {\n    return md5_cmn(b ^ c ^ d, a, b, x, s, t);\n  }\n  function md5_ii (a, b, c, d, x, s, t) {\n    return md5_cmn(c ^ (b | (~d)), a, b, x, s, t);\n  }\n\n  /*\n  * Calculate the MD5 of an array of little-endian words, and a bit length.\n  */\n  function binl_md5 (x, len) {\n    /* append padding */\n    x[len >> 5] |= 0x80 << (len % 32);\n    x[(((len + 64) >>> 9) << 4) + 14] = len;\n\n    var i;\n    var olda;\n    var oldb;\n    var oldc;\n    var oldd;\n    var a = 1732584193;\n    var b = -271733879;\n    var c = -1732584194;\n    var d = 271733878;\n\n    for (i = 0; i < x.length; i += 16) {\n      olda = a;\n      oldb = b;\n      oldc = c;\n      oldd = d;\n\n      a = md5_ff(a, b, c, d, x[i], 7, -680876936);\n      d = md5_ff(d, a, b, c, x[i + 1], 12, -389564586);\n      c = md5_ff(c, d, a, b, x[i + 2], 17, 606105819);\n      b = md5_ff(b, c, d, a, x[i + 3], 22, -1044525330);\n      a = md5_ff(a, b, c, d, x[i + 4], 7, -176418897);\n      d = md5_ff(d, a, b, c, x[i + 5], 12, 1200080426);\n      c = md5_ff(c, d, a, b, x[i + 6], 17, -1473231341);\n      b = md5_ff(b, c, d, a, x[i + 7], 22, -45705983);\n      a = md5_ff(a, b, c, d, x[i + 8], 7, 1770035416);\n      d = md5_ff(d, a, b, c, x[i + 9], 12, -1958414417);\n      c = md5_ff(c, d, a, b, x[i + 10], 17, -42063);\n      b = md5_ff(b, c, d, a, x[i + 11], 22, -1990404162);\n      a = md5_ff(a, b, c, d, x[i + 12], 7, 1804603682);\n      d = md5_ff(d, a, b, c, x[i + 13], 12, -40341101);\n      c = md5_ff(c, d, a, b, x[i + 14], 17, -1502002290);\n      b = md5_ff(b, c, d, a, x[i + 15], 22, 1236535329);\n\n      a = md5_gg(a, b, c, d, x[i + 1], 5, -165796510);\n      d = md5_gg(d, a, b, c, x[i + 6], 9, -1069501632);\n      c = md5_gg(c, d, a, b, x[i + 11], 14, 643717713);\n      b = md5_gg(b, c, d, a, x[i], 20, -373897302);\n      a = md5_gg(a, b, c, d, x[i + 5], 5, -701558691);\n      d = md5_gg(d, a, b, c, x[i + 10], 9, 38016083);\n      c = md5_gg(c, d, a, b, x[i + 15], 14, -660478335);\n      b = md5_gg(b, c, d, a, x[i + 4], 20, -405537848);\n      a = md5_gg(a, b, c, d, x[i + 9], 5, 568446438);\n      d = md5_gg(d, a, b, c, x[i + 14], 9, -1019803690);\n      c = md5_gg(c, d, a, b, x[i + 3], 14, -187363961);\n      b = md5_gg(b, c, d, a, x[i + 8], 20, 1163531501);\n      a = md5_gg(a, b, c, d, x[i + 13], 5, -1444681467);\n      d = md5_gg(d, a, b, c, x[i + 2], 9, -51403784);\n      c = md5_gg(c, d, a, b, x[i + 7], 14, 1735328473);\n      b = md5_gg(b, c, d, a, x[i + 12], 20, -1926607734);\n\n      a = md5_hh(a, b, c, d, x[i + 5], 4, -378558);\n      d = md5_hh(d, a, b, c, x[i + 8], 11, -2022574463);\n      c = md5_hh(c, d, a, b, x[i + 11], 16, 1839030562);\n      b = md5_hh(b, c, d, a, x[i + 14], 23, -35309556);\n      a = md5_hh(a, b, c, d, x[i + 1], 4, -1530992060);\n      d = md5_hh(d, a, b, c, x[i + 4], 11, 1272893353);\n      c = md5_hh(c, d, a, b, x[i + 7], 16, -155497632);\n      b = md5_hh(b, c, d, a, x[i + 10], 23, -1094730640);\n      a = md5_hh(a, b, c, d, x[i + 13], 4, 681279174);\n      d = md5_hh(d, a, b, c, x[i], 11, -358537222);\n      c = md5_hh(c, d, a, b, x[i + 3], 16, -722521979);\n      b = md5_hh(b, c, d, a, x[i + 6], 23, 76029189);\n      a = md5_hh(a, b, c, d, x[i + 9], 4, -640364487);\n      d = md5_hh(d, a, b, c, x[i + 12], 11, -421815835);\n      c = md5_hh(c, d, a, b, x[i + 15], 16, 530742520);\n      b = md5_hh(b, c, d, a, x[i + 2], 23, -995338651);\n\n      a = md5_ii(a, b, c, d, x[i], 6, -198630844);\n      d = md5_ii(d, a, b, c, x[i + 7], 10, 1126891415);\n      c = md5_ii(c, d, a, b, x[i + 14], 15, -1416354905);\n      b = md5_ii(b, c, d, a, x[i + 5], 21, -57434055);\n      a = md5_ii(a, b, c, d, x[i + 12], 6, 1700485571);\n      d = md5_ii(d, a, b, c, x[i + 3], 10, -1894986606);\n      c = md5_ii(c, d, a, b, x[i + 10], 15, -1051523);\n      b = md5_ii(b, c, d, a, x[i + 1], 21, -2054922799);\n      a = md5_ii(a, b, c, d, x[i + 8], 6, 1873313359);\n      d = md5_ii(d, a, b, c, x[i + 15], 10, -30611744);\n      c = md5_ii(c, d, a, b, x[i + 6], 15, -1560198380);\n      b = md5_ii(b, c, d, a, x[i + 13], 21, 1309151649);\n      a = md5_ii(a, b, c, d, x[i + 4], 6, -145523070);\n      d = md5_ii(d, a, b, c, x[i + 11], 10, -1120210379);\n      c = md5_ii(c, d, a, b, x[i + 2], 15, 718787259);\n      b = md5_ii(b, c, d, a, x[i + 9], 21, -343485551);\n\n      a = safe_add(a, olda);\n      b = safe_add(b, oldb);\n      c = safe_add(c, oldc);\n      d = safe_add(d, oldd);\n    }\n    return [a, b, c, d];\n  }\n\n  /*\n  * Convert an array of little-endian words to a string\n  */\n  function binl2rstr (input) {\n    var i;\n    var output = '';\n    for (i = 0; i < input.length * 32; i += 8) {\n      output += String.fromCharCode((input[i >> 5] >>> (i % 32)) & 0xFF);\n    }\n    return output;\n  }\n\n  /*\n  * Convert a raw string to an array of little-endian words\n  * Characters >255 have their high-byte silently ignored.\n  */\n  function rstr2binl (input) {\n    var i;\n    var output = [];\n    output[(input.length >> 2) - 1] = undefined;\n    for (i = 0; i < output.length; i += 1) {\n      output[i] = 0;\n    }\n    for (i = 0; i < input.length * 8; i += 8) {\n      output[i >> 5] |= (input.charCodeAt(i / 8) & 0xFF) << (i % 32);\n    }\n    return output;\n  }\n\n  /*\n  * Calculate the MD5 of a raw string\n  */\n  function rstr_md5 (s) {\n    return binl2rstr(binl_md5(rstr2binl(s), s.length * 8));\n  }\n\n  /*\n  * Calculate the HMAC-MD5, of a key and some data (raw strings)\n  */\n  function rstr_hmac_md5 (key, data) {\n    var i;\n    var bkey = rstr2binl(key);\n    var ipad = [];\n    var opad = [];\n    var hash;\n    ipad[15] = opad[15] = undefined;\n    if (bkey.length > 16) {\n      bkey = binl_md5(bkey, key.length * 8);\n    }\n    for (i = 0; i < 16; i += 1) {\n      ipad[i] = bkey[i] ^ 0x36363636;\n      opad[i] = bkey[i] ^ 0x5C5C5C5C;\n    }\n    hash = binl_md5(ipad.concat(rstr2binl(data)), 512 + data.length * 8);\n    return binl2rstr(binl_md5(opad.concat(hash), 512 + 128));\n  }\n\n  /*\n  * Convert a raw string to a hex string\n  */\n  function rstr2hex (input) {\n    var hex_tab = '0123456789abcdef';\n    var output = '';\n    var x;\n    var i;\n    for (i = 0; i < input.length; i += 1) {\n      x = input.charCodeAt(i);\n      output += hex_tab.charAt((x >>> 4) & 0x0F) +\n      hex_tab.charAt(x & 0x0F);\n    }\n    return output;\n  }\n\n  /*\n  * Encode a string as utf-8\n  */\n  function str2rstr_utf8 (input) {\n    return unescape(encodeURIComponent(input));\n  }\n\n  /*\n  * Take string arguments and return either raw or hex encoded strings\n  */\n  function raw_md5 (s) {\n    return rstr_md5(str2rstr_utf8(s));\n  }\n  function hex_md5 (s) {\n    return rstr2hex(raw_md5(s));\n  }\n  function raw_hmac_md5 (k, d) {\n    return rstr_hmac_md5(str2rstr_utf8(k), str2rstr_utf8(d));\n  }\n  function hex_hmac_md5 (k, d) {\n    return rstr2hex(raw_hmac_md5(k, d));\n  }\n\n  function md5 (string, key, raw) {\n    if (!key) {\n      if (!raw) {\n        return hex_md5(string);\n      }\n      return raw_md5(string);\n    }\n    if (!raw) {\n      return hex_hmac_md5(key, string);\n    }\n    return raw_hmac_md5(key, string);\n  }\n\n  module.exports = md5;\n}());\n","var version = require('./version').v;\nvar hasOwn = {}.hasOwnProperty;\n\nvar PingppSDK = function () {\n  require('./init').init();\n};\n\nPingppSDK.prototype.version = version;\n\nmodule.exports = new PingppSDK();\n\nvar testmode = require('./testmode');\nvar callbacks = require('./callbacks');\nvar PingppError = require('./errors').Error;\nvar mods = require('./mods');\nvar stash = require('./stash');\nvar dc = require('./collection');\nvar payment_elements = require('./payment_elements');\n\nPingppSDK.prototype.createPayment = function (\n  chargeJSON, callback, signature, debug\n) {\n  if (typeof callback === 'function') {\n    callbacks.userCallback = callback;\n  }\n\n  try {\n    payment_elements.init(chargeJSON);\n  } catch (e) {\n    if (e instanceof PingppError) {\n      callbacks.innerCallback('fail',\n        callbacks.error(e.message, e.extra));\n      return;\n    } else {\n      throw e;\n    }\n  }\n\n  if (!hasOwn.call(payment_elements, 'id')) {\n    callbacks.innerCallback('fail',\n      callbacks.error('invalid_charge', 'no_charge_id'));\n    return;\n  }\n  if (!hasOwn.call(payment_elements, 'channel')) {\n    callbacks.innerCallback('fail',\n      callbacks.error('invalid_charge', 'no_channel'));\n    return;\n  }\n\n  if (hasOwn.call(payment_elements, 'app')) {\n    if (typeof payment_elements.app === 'string') {\n      stash.app_id = payment_elements.app;\n    } else if (typeof payment_elements.app === 'object' &&\n      typeof payment_elements.app.id === 'string') {\n      stash.app_id = payment_elements.app.id;\n    }\n  }\n  dc.report({\n    type: stash.type || 'pure_sdk_click',\n    channel: payment_elements.channel,\n    ch_id: payment_elements.id\n  });\n  var channel = payment_elements.channel;\n  if (!hasOwn.call(payment_elements, 'credential')) {\n    callbacks.innerCallback('fail',\n      callbacks.error('invalid_charge', 'no_credential'));\n    return;\n  }\n  if (payment_elements.paid && payment_elements.actual_amount === 0) {\n    callbacks.innerCallback('success');\n    return;\n  }\n\n  if (!payment_elements.credential) {\n    callbacks.innerCallback('fail',\n      callbacks.error('invalid_credential', 'credential_is_undefined'));\n    return;\n  }\n  if (!hasOwn.call(payment_elements.credential, channel)) {\n    callbacks.innerCallback('fail',\n      callbacks.error('invalid_credential', 'credential_is_incorrect'));\n    return;\n  }\n  if (!hasOwn.call(payment_elements, 'livemode')) {\n    callbacks.innerCallback('fail',\n      callbacks.error('invalid_charge', 'no_livemode_field'));\n    return;\n  }\n  var channelModule = mods.getChannelModule(channel);\n  if (typeof channelModule === 'undefined') {\n    console.error('channel module \"' + channel + '\" is undefined');\n    callbacks.innerCallback('fail',\n      callbacks.error('invalid_channel',\n        'channel module \"' + channel + '\" is undefined')\n    );\n    return;\n  }\n  if (payment_elements.livemode === false) {\n    if (hasOwn.call(channelModule, 'runTestMode')) {\n      channelModule.runTestMode(payment_elements);\n    } else {\n      testmode.runTestMode(payment_elements);\n    }\n    return;\n  }\n\n  if (typeof signature != 'undefined') {\n    stash.signature = signature;\n  }\n  if (typeof debug == 'boolean') {\n    stash.debug = debug;\n  }\n  channelModule.handleCharge(payment_elements);\n};\n\nPingppSDK.prototype.setAPURL = function (url) {\n  stash.APURL = url;\n};\n\nPingppSDK.prototype.setUrlReturnCallback = function (callback, channels) {\n  if (typeof callback === 'function') {\n    callbacks.urlReturnCallback = callback;\n  } else {\n    throw 'callback need to be a function';\n  }\n\n  if (typeof channels !== 'undefined') {\n    if (Array.isArray(channels)) {\n      callbacks.urlReturnChannels = channels;\n    } else {\n      throw 'channels need to be an array';\n    }\n  }\n};\n\nPingppSDK.prototype.signAgreement = function (agreement, callback) {\n  if (typeof callback === 'function') {\n    callbacks.userAgreementCallback = callback;\n  }\n\n  var module = mods.getExtraModule('agreement');\n  if (typeof module === 'undefined') {\n    console.error('module \"agreement\" is undefined');\n    callbacks.innerCallback('fail',\n      callbacks.error('invalid_module',\n        'module \"agreement\" is undefined')\n    );\n    return false;\n  }\n\n  return module.signAgreement(agreement);\n};\n","var hasOwn = {}.hasOwnProperty;\nvar mods = {};\nmodule.exports = mods;\n\nmods.channels = {\n  alipay: require('./channels/alipay'),\n  alipay_lite: require('./channels/alipay_lite'),\n  alipay_pc_direct: require('./channels/alipay_pc_direct'),\n  alipay_qr: require('./channels/alipay_qr'),\n  alipay_wap: require('./channels/alipay_wap'),\n  bfb_wap: require('./channels/bfb_wap'),\n  cb_alipay_pc_direct: require('./channels/cb_alipay_pc_direct'),\n  cb_alipay_wap: require('./channels/cb_alipay_wap'),\n  cb_wx_pub: require('./channels/cb_wx_pub'),\n  ccb_qr: require('./channels/ccb_qr'),\n  cmb_pc_qr: require('./channels/cmb_pc_qr'),\n  cmb_wallet: require('./channels/cmb_wallet'),\n  coolcredit: require('./channels/coolcredit'),\n  cp_b2b: require('./channels/cp_b2b'),\n  isv_lite: require('./channels/isv_lite'),\n  isv_wap: require('./channels/isv_wap'),\n  jdpay_wap: require('./channels/jdpay_wap'),\n  paypal: require('./channels/paypal'),\n  qpay_pub: require('./channels/qpay_pub'),\n  upacp_b2b: require('./channels/upacp_b2b'),\n  upacp_pc: require('./channels/upacp_pc'),\n  upacp_wap: require('./channels/upacp_wap'),\n  wx_lite: require('./channels/wx_lite'),\n  wx_pub: require('./channels/wx_pub'),\n  wx_pub_hzbank: require('./channels/wx_pub_hzbank'),\n  wx_wap: require('./channels/wx_wap'),\n  yeepay_wap: require('./channels/yeepay_wap')\n};\n\nmods.extras = {\n  ap: require('./channels/extras/ap'),\n  agreement: require('./agreement')\n};\n\nmods.getChannelModule = function(channel) {\n  if (hasOwn.call(mods.channels, channel)) {\n    return mods.channels[channel];\n  }\n  return undefined;\n};\n\nmods.getExtraModule = function(name) {\n  if (hasOwn.call(mods.extras, name)) {\n    return mods.extras[name];\n  }\n  return undefined;\n};\n","/**\n * Created by dong on 2016/12/30.\n */\n\nvar PingppError = require('./errors').Error;\nvar hasOwn = {}.hasOwnProperty;\n\nmodule.exports = {\n  id: null,\n  or_id: null,\n  channel: null,\n  app: null,\n  credential: {},\n  extra: null,\n  livemode: null,\n  order_no: null,\n  time_expire: null,\n  paid: false,\n  status: null,\n  actual_amount: null,\n\n  init: function (charge_or_order) {\n    var charge;\n    if (typeof charge_or_order === 'string') {\n      try {\n        charge = JSON.parse(charge_or_order);\n      } catch (err) {\n        throw new PingppError('json_decode_fail', err);\n      }\n    } else {\n      charge = charge_or_order;\n    }\n\n    if (typeof charge === 'undefined') {\n      throw new PingppError('json_decode_fail');\n    }\n\n    if (hasOwn.call(charge, 'object') && charge.object == 'order') {\n      charge.or_id = charge.id;\n      charge.order_no = charge.merchant_order_no;\n      var charge_essentials = charge.charge_essentials;\n      charge.channel = charge_essentials.channel;\n      charge.credential = charge_essentials.credential;\n      charge.extra = charge_essentials.extra;\n      if(hasOwn.call(charge, 'charge') && charge.charge != null) {\n        charge.id = charge.charge;\n      } else if(hasOwn.call(charge_essentials, 'id')\n        && charge_essentials.id != null) {\n        charge.id = charge_essentials.id;\n      } else if(hasOwn.call(charge, 'charges')) {\n        for(var i = 0; i < charge.charges.data.length; i++){\n          if(charge.charges.data[i].channel === charge_essentials.channel) {\n            charge.id = charge.charges.data[i].id;\n            break;\n          }\n        }\n      }\n    } else if(hasOwn.call(charge, 'object') && charge.object == 'recharge') {\n      charge = charge.charge;\n    }\n\n    for (var key in this) {\n      if (hasOwn.call(charge, key)) {\n        this[key] = charge[key];\n      }\n    }\n    return this;\n  },\n\n  clear: function () {\n    for (var key in this) {\n      if (typeof this[key] !== 'function') {\n        this[key] = null;\n      }\n    }\n  }\n};","module.exports = {\n};\n","var utils = require('./utils');\nvar hasOwn = {}.hasOwnProperty;\nmodule.exports = {\n  PINGPP_MOCK_URL: 'http://sissi.pingxx.com/mock.php',\n\n  runTestMode: function (charge) {\n    var params = {\n      'ch_id': charge.id,\n      'scheme': 'http',\n      'channel': charge.channel\n    };\n\n    if (hasOwn.call(charge, 'order_no')) {\n      params.order_no = charge.order_no;\n    } else if (hasOwn.call(charge, 'orderNo')) {\n      params.order_no = charge.orderNo;\n    }\n    if (hasOwn.call(charge, 'time_expire')) {\n      params.time_expire = charge.time_expire;\n    } else if (hasOwn.call(charge, 'timeExpire')) {\n      params.time_expire = charge.timeExpire;\n    }\n    if (hasOwn.call(charge, 'extra')) {\n      params.extra = encodeURIComponent(JSON.stringify(charge.extra));\n    }\n    utils.redirectTo(\n      this.PINGPP_MOCK_URL + '?' + utils.stringifyData(params),\n      charge.channel\n    );\n  }\n};\n","var callbacks = require('./callbacks');\nvar hasOwn = {}.hasOwnProperty;\n\nvar utils = module.exports = {\n\n  /**\n   * 对象转换成 query string\n   * @param object data  待转对象\n   * @param string channel  渠道\n   * @param boolean urlencode  是否需要 urlencode\n   *\n   * @return string query string\n   */\n  stringifyData: function (data, channel, urlencode) {\n    if (typeof urlencode == 'undefined') {\n      urlencode = false;\n    }\n    var output = [];\n    for (var i in data) {\n      if (!hasOwn.call(data, i) || typeof data[i] === 'function') {\n        continue;\n      }\n      if (channel == 'bfb_wap' && i == 'url') {\n        continue;\n      }\n      if (channel == 'yeepay_wap' && i == 'mode') {\n        continue;\n      }\n      if (i == 'channel_url') {\n        continue;\n      }\n      output.push(i + '=' +\n          (urlencode ? encodeURIComponent(data[i]) : data[i]));\n    }\n    return output.join('&');\n  },\n\n  /**\n   * 网络请求\n   * @param string url\n   * @param string method  请求方式, POST, GET ...\n   * @param object requestData  请求数据\n   * @param function successCallback  成功回调 (data, statusCode, xhr)\n   * @param function errorCallback  错误回调 (xhr, statusCode, error)\n   */\n  request: function (url, method, requestData,\n    successCallback, errorCallback, headers) {\n    if (typeof XMLHttpRequest === 'undefined') {\n      console.log('Function XMLHttpRequest is undefined.');\n      return;\n    }\n    var xhr = new XMLHttpRequest();\n    if (typeof xhr.timeout !== 'undefined') {\n      xhr.timeout = 6000;\n    }\n    method = method.toUpperCase();\n\n    if (method === 'GET' && typeof requestData === 'object' && requestData) {\n      url += '?' + utils.stringifyData(requestData, '', true);\n    }\n    xhr.open(method, url, true);\n    if (typeof headers !== 'undefined') {\n      for (var k in headers) {\n        if (hasOwn.call(headers, k)) {\n          xhr.setRequestHeader(k, headers[k]);\n        }\n      }\n    }\n    if (method === 'POST') {\n      xhr.setRequestHeader('Content-type', 'application/json; charset=utf-8');\n      xhr.send(JSON.stringify(requestData));\n    } else {\n      xhr.send();\n    }\n    if (typeof successCallback == 'undefined') {\n      successCallback = function () {};\n    }\n    if (typeof errorCallback == 'undefined') {\n      errorCallback = function () {};\n    }\n    xhr.onreadystatechange = function () {\n      if (xhr.readyState == 4) {\n        successCallback(xhr.responseText, xhr.status, xhr);\n      }\n    };\n    xhr.onerror = function (e) {\n      errorCallback(xhr, 0, e);\n    };\n  },\n\n  /**\n   * 表单提交\n   * @param string url\n   * @param string method  请求方式, POST, GET ...\n   * @param object params  请求数据\n   */\n  formSubmit: function (url, method, params) {\n    if (typeof window === 'undefined') {\n      console.log('Not a browser, form submit url: ' + url);\n      return;\n    }\n    var form = document.createElement('form');\n    form.setAttribute('method', method);\n    form.setAttribute('action', url);\n\n    for (var key in params) {\n      if (hasOwn.call(params, key)) {\n        var hiddenField = document.createElement('input');\n        hiddenField.setAttribute('type', 'hidden');\n        hiddenField.setAttribute('name', key);\n        hiddenField.setAttribute('value', params[key]);\n        form.appendChild(hiddenField);\n      }\n    }\n\n    document.body.appendChild(form);\n    form.submit();\n  },\n\n  randomString: function (length) {\n    if (typeof length == 'undefined') {\n      length = 32;\n    }\n    var chars =\n        'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    var maxPos = chars.length;\n    var str = '';\n    for (var i = 0; i < length; i++) {\n      str += chars.charAt(Math.floor(Math.random() * maxPos));\n    }\n\n    return str;\n  },\n\n  redirectTo: function (url, channel) {\n    if (callbacks.shouldReturnUrlByCallback(channel)) {\n      callbacks.triggerUrlReturnCallback(null, url);\n      return;\n    }\n    if (typeof window === 'undefined') {\n      console.log('Not a browser, redirect url: ' + url);\n      return;\n    }\n    window.location.href = url;\n  },\n\n  inWeixin: function () {\n    if (typeof navigator === 'undefined') {\n      return false;\n    }\n    var ua = navigator.userAgent.toLowerCase();\n    return ua.indexOf('micromessenger') !== -1;\n  },\n\n  inAlipay: function () {\n    if (typeof navigator === 'undefined') {\n      return false;\n    }\n    var ua = navigator.userAgent.toLowerCase();\n    return ua.indexOf('alipayclient') !== -1;\n  },\n\n  /*global wx*/\n  inWxLite: function() {\n    if(typeof wx === 'undefined') {\n      return false;\n    }\n    \n    return wx.miniProgram || wx.requestPayment;\n  },\n\n  /*global my*/\n  inAlipayLite: function() {\n    if(typeof my === 'undefined') {\n      return false;\n    }\n\n    return my.tradePay;\n  },\n\n  documentReady: function (fn) {\n    if (typeof document === 'undefined') {\n      fn();\n      return;\n    }\n    if (document.readyState != 'loading') {\n      fn();\n    } else {\n      document.addEventListener('DOMContentLoaded', fn);\n    }\n  },\n\n  loadUrlJs: function (sid, jsurl, callback) {\n    var nodeHead = document.getElementsByTagName('head')[0];\n    var nodeScript = null;\n    if (document.getElementById(sid) == null) {\n      nodeScript = document.createElement('script');\n      nodeScript.setAttribute('type', 'text/javascript');\n      nodeScript.setAttribute('src', jsurl);\n      nodeScript.setAttribute('id', sid);\n      nodeScript.async = true;\n      if (callback != null) {\n        nodeScript.onload = nodeScript.onreadystatechange = function () {\n          if (nodeScript.ready) {\n            return false;\n          }\n\n          if (!nodeScript.readyState || nodeScript.readyState == 'loaded'\n              || nodeScript.readyState == 'complete') {\n            nodeScript.ready = true;\n            callback();\n          }\n        };\n      }\n      nodeHead.appendChild(nodeScript);\n    } else {\n      if (callback != null) {\n        callback();\n      }\n    }\n  }\n};\n","module.exports = {\n  v: '2.2.16'\n};\n"]}